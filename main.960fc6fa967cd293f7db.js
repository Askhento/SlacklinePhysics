(()=>{var e={657:(e,t,n)=>{"use strict";var o=n(414),r=n.n(o),i=(n(591),n(212)),a=n(618)(i),s=n(466);r()(r()).then((function(){var e=document.createElement("div");e.id="container",document.body.appendChild(e);var t,n,o,d,c=new s;c.showPanel(0),document.body.appendChild(c.dom);var l,w,u,h,p,f,v,b,g=new i.Clock,m=[],y=new(r().btTransform),x=new i.Vector2;function S(e){e.preventDefault(),v?M(t.position,v,3):console.log("no intersections")}function C(e){e.preventDefault(),x.x=e.clientX/window.innerWidth*2-1,x.y=-e.clientY/window.innerHeight*2+1}function M(e,t){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new i.Vector3,s=new i.Quaternion,d=.35;e instanceof i.Vector3?(console.log("vector"),n=V(d,0,e,s,L())):e instanceof i.Mesh&&(console.log("sphere"),e=(n=e).position),t instanceof i.Vector3?(console.log("vector"),o=V(d,0,t,s,L())):t instanceof i.Mesh&&(console.log("sphere"),t=(o=t).position);var c=(a=t.clone().sub(e)).length(),l=.1,w=Math.ceil(c/r);console.log("num of segments = "+w);for(var u=c/w,h=l*u,p=.25*u,f=[],v=0;v<w;v++){var b=(v+.5)/w,g=new i.Vector3(a.x,a.y,a.z);g.multiplyScalar(b),g.add(e),f.push(V(p,h,g,s,L()))}for(var m=0;m<f.length-1;m++){var y=f[m],x=f[m+1];D(y,x)}return D(n,f[0]),D(o,f[f.length-1]),{anchors:[n,o],balls:f}}function D(e,t){for(var n=new(r().btQuaternion)(0,0,0,1),o=new(r().btVector3)(0,0,0),i=new(r().btVector3)(0,0,0),a=new(r().btTransform)(n,o),s=new(r().btTransform)(n,i),d=new(r().btGeneric6DofSpringConstraint)(e.userData.physicsBody,t.userData.physicsBody,a,s,!0),c=0;c<3;c++)d.enableSpring(c,!0),d.setStiffness(c,50),d.setDamping(c,.001);return d.setLinearLowerLimit(new(r().btVector3)(1,1,1)),d.setLinearUpperLimit(new(r().btVector3)(0,0,0)),f.addConstraint(d,!1),d}function V(e,t,n,a,s){var d=new i.Mesh(new i.SphereGeometry(e),s);d.castShadow=!0;var c=new(r().btSphereShape)(e);return c.setMargin(.05),function(e,t,n,i,a){e.position.copy(i),e.quaternion.copy(a);var s=new(r().btTransform);s.setIdentity(),s.setOrigin(new(r().btVector3)(i.x,i.y,i.z)),s.setRotation(new(r().btQuaternion)(a.x,a.y,a.z,a.w));var d=new(r().btDefaultMotionState)(s),c=new(r().btVector3)(0,0,0);t.calculateLocalInertia(n,c);var l=new(r().btRigidBodyConstructionInfo)(n,d,t,c),w=new(r().btRigidBody)(l);e.userData.physicsBody=w,o.add(e),n>0&&(m.push(e),w.setActivationState(4)),f.addRigidBody(w)}(d,c,t,n,a),d}function L(){return new i.MeshPhongMaterial({color:Math.floor(Math.random()*(1<<24))})}function H(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}(function(){t=new i.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.2,2e3),o=new i.Scene,b=new i.Raycaster,t.position.x=-15,t.position.y=5,t.position.z=15,(n=new a(t)).target.y=2,(d=new i.WebGLRenderer).setClearColor(12571109),d.setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),d.shadowMap.enabled=!0,new i.TextureLoader;var r=new i.AmbientLight(4210752);o.add(r);var s=new i.DirectionalLight(16777215,1);s.position.set(-10,10,5),s.castShadow=!0,s.shadow.camera.left=-10,s.shadow.camera.right=10,s.shadow.camera.top=10,s.shadow.camera.bottom=-10,s.shadow.camera.near=2,s.shadow.camera.far=50,s.shadow.mapSize.x=1024,s.shadow.mapSize.y=1024,o.add(s),e.innerHTML="",e.appendChild(d.domElement),window.addEventListener("mousemove",C,!1),window.addEventListener("resize",H,!1),document.addEventListener("mousedown",S,!1)})(),l=new(r().btSoftBodyRigidBodyCollisionConfiguration),u=new(r().btCollisionDispatcher)(l),h=new(r().btDbvtBroadphase),p=new(r().btSequentialImpulseConstraintSolver),w=new(r().btDefaultSoftBodySolver),(f=new(r().btSoftRigidDynamicsWorld)(u,h,p,l,w)).setGravity(new(r().btVector3)(0,-9.8,0)),f.getWorldInfo().set_m_gravity(new(r().btVector3)(0,-9.8,0)),function(){var e=new i.Vector3,t=(new i.Quaternion,new i.Vector3);e.set(-20,5,-20),t.set(20,5,20);var n=M(e,t,5);e.set(20,5,-20),M(e,n.balls[5],5),e.set(10,10,-10);var o=M(e,n.balls[7],5);M(n.balls[7],o.balls[3],5)}(),function e(){var r;requestAnimationFrame(e),c.begin(),function(e){f.stepSimulation(e,10);for(var t=0,n=m.length;t<n;t++){var o=m[t];if(a=o.userData.physicsBody.getMotionState()){a.getWorldTransform(y);var r=y.getOrigin(),i=y.getRotation();o.position.set(r.x(),r.y(),r.z()),o.quaternion.set(i.x(),i.y(),i.z(),i.w())}}var a}(r=g.getDelta()),n.update(r),function(){b.setFromCamera(x,t);var e=b.intersectObjects(o.children);e.length>0?v!=e[0].object&&(v&&v.material.emissive.setHex(v.currentHex),(v=e[0].object).currentHex=v.material.emissive.getHex(),v.material.emissive.setHex(16711680)):(v&&v.material.emissive.setHex(v.currentHex),v=null)}(),d.render(o,t),c.end()}()}))},993:()=>{}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0},t=[[657,216]],o=e=>{},r=(r,i)=>{for(var a,s,[d,c,l,w]=i,u=0,h=[];u<d.length;u++)s=d[u],n.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(a in c)n.o(c,a)&&(n.m[a]=c[a]);for(l&&l(n),r&&r(i);h.length;)h.shift()();return w&&t.push.apply(t,w),o()},i=self.webpackChunkthree_seed=self.webpackChunkthree_seed||[];function a(){for(var o,r=0;r<t.length;r++){for(var i=t[r],a=!0,s=1;s<i.length;s++){var d=i[s];0!==e[d]&&(a=!1)}a&&(t.splice(r--,1),o=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),o}i.forEach(r.bind(null,0)),i.push=r.bind(null,i.push.bind(i));var s=n.x;n.x=()=>(n.x=s||(e=>{}),(o=a)())})(),n.x()})();
//# sourceMappingURL=main.960fc6fa967cd293f7db.js.map